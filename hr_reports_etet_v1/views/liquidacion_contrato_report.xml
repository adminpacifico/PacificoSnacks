<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <report
                id="liquidacion_contrato_report"
                model="hr.payslip"
                string="Liquidación de Contrato"
                name="hr_reports_etet_v1.liquidacion_contrato_report"
                report_type="qweb-pdf"/>

        <template id="liquidacion_contrato_report">
        <t t-call="web.html_container">
        <t t-foreach="docs" t-as="doc">
            <t t-call="web.basic_layout">
                <t t-if="doc.type_payslip_id.name == 'Liquidación de Contrato'">

                    <div class="page">
                    <div class="page" style="margin-left: 5%; margin-right: 5%; margin-top: 9%">
                        <table style="width:100%; margin-right:25%" add="small">
                            <tr style="border-bottom: 1px solid black">
                                <td style="width:20%" ><img src="/hr_reports_etet_v1/static/src/imagenes/descarga.jpeg"  class="text-center" style="font-size:12px; width:55%; padding-bottom: 5%; padding-top: 10%; margin-left:20%;" alt="Responsive image"/></td>

                                    <td class="text-center" style="margin-top:-25px; width:35%" add="small">
                                        <div><b><span style="font-size:20px" t-field="doc.company_id.name"/></b></div>
                                        <div>N.I.T <span t-field="doc.company_id.vat"/></div>
                                        <div><span t-field="doc.company_id.street"/></div>
                                        <div>
                                            <span t-field="doc.company_id.city"/>
                                            <span t-field="doc.company_id.zip"/>
                                        </div>

                                    </td>

                            </tr>
                        </table>
                        <table style="width:100%">
                            <tr>
                                <td style="font-size:20px" class="text-center"><b>LIQUIDACIÓN CONTRATO DE TRABAJO</b></td>
                            </tr>
                        </table>
                        <table style="width:100%">
                            <tr>
                                <td style="width:60%">
                                    <table style="width:100%; margin-left:5px; font-size:12px; margin-top:15px">
                                        <td style="width:40%"><strong>Ciudad y Fecha : </strong></td>
                                        <td style="width:60%"><span style="font-size:12px" t-field="doc.company_id.city"/>, <span style="font-size:12px" t-field="doc.contract_id.date_end"/></td>
                                    </table>
                                </td>
                                <td style="width:40%">
                                    <table style="width:100%; margin-left:5px; font-size:12px; margin-top:15px">
                                        <td style="width:40%"><strong>Contrato: </strong></td>
                                        <td style="width:60%"> <span style="font-size:12px" t-field="doc.contract_id"/></td>
                                    </table>
                                </td>
                            </tr>
                        </table>
                        <table style="width:100%; border-bottom: 1px solid black">
                            <tr>
                                <td style="width:60%">
                                     <table style="width:100%; margin-left:5px; font-size:12px; margin-top:15px">
                                            <tr>
                                                <td><strong>Nombre del Trabajador</strong></td>
                                                <td><span t-field="doc.employee_id"/></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Identificación</strong></td>
                                                <td colspan="3"><span t-field="doc.employee_id.identification_id"/></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Cargo</strong></td>
                                                <td colspan="3"><span t-field="doc.employee_id.job_id"/></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Sueldo Básico</strong></td>
                                                <td><span t-esc="doc.contract_id.wage" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/></td>
                                            </tr>
                                    </table>
                                </td>
                                <t t-set="fecha_1" t-value="(doc.contract_id.date_start).year"/>
                                <t t-set="fecha_2" t-value="(doc.contract_id.date_end).year"/>
                                <td style="width:40%">
                                        <table style="width:100%; margin-left:5px; font-size:12px">
                                                 <t t-set="diferencia" t-value="doc.contract_id.date_end - doc.contract_id.date_start"/>
                                            <tr>
                                                <td style="width:60%"><strong>Fecha de Ingreso </strong></td>
                                                 <td><span t-field="doc.contract_id.date_start"/></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Fecha de retiro </strong></td>
                                                <td><span t-field="doc.contract_id.date_end"/></td>
                                            </tr>
                                            <tr>
                                                <td><strong>Dias trabajados </strong></td>
                                                <t t-if="fecha_1 == fecha_2">
                                                    <td class="text-left" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.code == 'TOTALDAYSYEARS')" t-as="worked_days">
                                                                <span t-esc="int(worked_days.number_of_days)"/>
                                                        </td>
                                                </t>
                                                <t t-else="">
                                                         <td class="text-left" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.code == 'TOTALDAYSCONTRACT')" t-as="worked_days">
                                                                <span t-esc="int(worked_days.number_of_days)"/>
                                                        </td>
                                                </t>
                                            </tr>
                                            <tr>
                                                <td><strong>Dias Suspención </strong></td>
                                                <td><span t-field="doc.contract_id.notice_days"/> </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                </table>
                                <table>
                                    <tr><td style="width:55%;">
                                    <table style="width:100%; margin-left:5px; font-size:12px">
                                        <tr style="height:10%; font-size:12px">
                                            <th><b>SALARIO BASE DE LIQUIDACION</b></th>
                                            <th><b>VALOR</b></th>
                                            <th><b>DIAS LIQUIDADOS</b></th>
                                            <th><b>DIAS PAGOS</b></th>
                                            <th><b>VALOR BASE</b></th>
                                        </tr>
                                            <tr>
                                                <td>Salario Básico</td>
                                                <t t-set="salariob_nombre" t-value=""></t>
                                                    <t t-set="salariob_valor" t-value="0"></t>
                                                    <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'SALCONTRACTO')" t-as="line_ids">
                                                        <t t-set="salariob_nombre" t-value="line_ids.name"/>
                                                        <t t-set="salariob_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="salariob_valor > 0">
                                                        <td class="text-right"><span t-esc="salariob_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td>
                                                         </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <t t-set="substran_nombre" t-value=""></t>
                                                    <t t-set="substran_valor" t-value="0"></t>
                                                    <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'P_SUBSTRAN')" t-as="line_ids">
                                                        <t t-set="substran_nombre" t-value="line_ids.name"/>
                                                        <t t-set="substran_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="substran_valor > 0">
                                                        <td>Auxilio de transporte</td>
                                                        <td class="text-right"><span t-esc="substran_valor"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td>
                                                         </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <t t-set="promhextras_nombre" t-value=""></t>
                                                <t t-set="promhextras_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'PROMHEXTRAS_YEARS_NOW')" t-as="line_ids">
                                                        <t t-set="promhextras_nombre" t-value="line_ids.name"/>
                                                        <t t-set="promhextras_valor" t-value="int(line_ids.total)"/>
                                                    </t>
                                                    <t t-if="promhextras_valor > 0">
                                                        <td>Promedio horas extras</td>
                                                        <td class="text-right"><span t-esc="promhextras_valor"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        <td></td>
                                                        </td>
                                                        <td>
                                                         </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <t t-set="bonificacionp_nombre" t-value=""></t>
                                                <t t-set="bonificacionp_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'BONIFICACIONP')" t-as="line_ids">
                                                        <t t-set="bonificacionp_nombre" t-value="line_ids.name"/>
                                                        <t t-set="bonificacionp_valor" t-value="int(line_ids.total)"/>
                                                    </t>
                                                    <t t-if="bonificacionp_valor > 0">
                                                        <td>Promedio Bonificaciones</td>
                                                        <td class="text-right"><span t-esc="bonificacionp_valor"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        <td></td>
                                                        </td>
                                                        <td>
                                                         </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <t t-set="base_liquidacion_vac" t-value="salariob_valor + promhextras_valor"/>
                                            <t t-set="base_liquidacion" t-value="salariob_valor + substran_valor + promhextras_valor"/>
                                            <t t-set="dias_pag" t-value="base_liquidacion / 30"/>
                                            <tr>
                                                <td><strong><b>TOTAL SALARIO BASE DE LIQUIDACION</b></strong></td>
                                                <td style="border-top: 1px solid black" class="text-right" t-foreach="doc.line_ids.filtered(lambda x: x.code == 'SALARIO_P_YEARS')" t-as="base_liq">
                                                <t t-set="base_liquidacion_1" t-value="int(base_liq.amount)"/>
                                                <span t-esc="base_liquidacion_1"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                </td>
                                            </tr>
                                            <tr><td><strong><b>LIQUIDACION DE PRESTACIONES SOCIALES</b></strong></td></tr>
                                            <tr style="height:150%;">
                                                <td>Prima Legal
                                                    <t t-if="fecha_1 == fecha_2">
                                                        <span t-field="doc.contract_id.date_start"></span> a <span t-field="doc.contract_id.date_end"></span>
                                                    </t>
                                                    <t t-else="">
                                                       01-01-<span t-esc="(doc.contract_id.date_end).year"/> a <span t-field="doc.contract_id.date_end"/>
                                                    </t>
                                                </td>
                                                <t t-set="prima_nombre" t-value=""></t>
                                                <t t-set="prima_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'PRIMA')" t-as="line_ids">
                                                <t t-set="prima_nombre" t-value="line_ids.name"/>
                                                <t t-set="prima_valor" t-value="line_ids.total"/>
                                                </t>
                                                <t t-if="prima_valor > 0">
                                                        <td class="text-right"><span t-esc="prima_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Días anuales trabajados')" t-as="worked_days">
                                                                <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-center" t-foreach="doc.line_ids.filtered(lambda x: x.code == 'DIASPRIMA')" t-as="dias_p">
                                                            <t t-set="dias_ces" t-value="dias_p.amount"/>
                                                            <span t-esc="'%.2f'%(dias_ces)"/>
                                                        </td>
                                                        <td class="text-right" t-foreach="doc.line_ids.filtered(lambda x: x.code == 'SALARIO_P_YEARS')" t-as="base_liq">
                                                        <t t-set="base_liquidacion_1" t-value="int(base_liq.amount)"/>
                                                        <span t-esc="base_liquidacion_1"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                    </t>
                                                    <t t-else=""><td>0</td>
                                                    </t>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td>Vacaciones
                                                    <t t-if="fecha_1 == fecha_2">
                                                        <span t-field="doc.contract_id.date_start"></span> a <span t-field="doc.contract_id.date_end"></span>
                                                    </t>
                                                    <t t-else="">
                                                       <span t-field="doc.contract_id.date_start"/> a <span t-field="doc.contract_id.date_end"/>
                                                    </t></td>
                                                <t t-set="vacations_nombre" t-value=""></t>
                                                    <t t-set="vacations_valor" t-value="0"></t>
                                                    <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'LIQVACATION')" t-as="line_ids">
                                                        <t t-set="vacations_nombre" t-value="line_ids.name"/>
                                                        <t t-set="vacations_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="vacations_valor != 0">
                                                        <td class="text-right"><span t-esc="vacations_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <t t-if="fecha_1 == fecha_2">
                                                            <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Días anuales trabajados')" t-as="worked_days">
                                                                <span t-field="worked_days.number_of_days"/>
                                                            </td>
                                                        </t>
                                                        <t t-else="">
                                                            <td class="text-center">
                                                                <span t-esc="(doc.contract_id.date_end - doc.contract_id.date_start).days"></span>
                                                            </td>
                                                        </t>
                                                        <td class="text-center" t-foreach="doc.line_ids.filtered(lambda x: x.code == 'DIASPAGADOSVAC')" t-as="dias_p">
                                                <t t-set="dias_pagados" t-value="dias_p.total"/>
                                                <span t-esc="'%.2f'%(dias_pagados)"/>
                                                </td>
                                                        <td class="text-right" t-foreach="doc.line_ids.filtered(lambda x: x.code == 'SALARIO_P_YEARS_VAC')" t-as="base_liq">
                                                <t t-set="base_liquidacion_2" t-value="int(base_liq.amount)"/>
                                                <span t-esc="base_liquidacion_2"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                </td>
                                                </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <td>Cesantias <t t-if="fecha_1 == fecha_2">
                                                        <span t-field="doc.contract_id.date_start"></span> a <span t-field="doc.contract_id.date_end"></span>
                                                    </t>
                                                    <t t-else="">
                                                       01-01-<span t-esc="(doc.contract_id.date_end).year"/> a <span t-field="doc.contract_id.date_end"/>
                                                    </t></td>
                                                <t t-set="cesantias_nombre" t-value=""></t>
                                                <t t-set="cesantias_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'CESANTIAS')" t-as="line_ids">
                                                    <t t-set="cesantias_nombre" t-value="line_ids.name"/>
                                                    <t t-set="cesantias_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="cesantias_valor > 0">
                                                        <td class="text-right"><span t-esc="cesantias_valor"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Días anuales trabajados')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-center" t-foreach="doc.line_ids.filtered(lambda x: x.code == 'DIASPAGCES')" t-as="dias_c">
                                                            <t t-set="dias_ces" t-value="dias_c.amount"/>
                                                            <span t-esc="'%.2f'%(dias_ces)"/>
                                                        </td>
                                                        <td class="text-right" t-foreach="doc.line_ids.filtered(lambda x: x.code == 'SALARIO_P_YEARS')" t-as="base_liq">
                                                <t t-set="base_liquidacion_1" t-value="int(base_liq.amount)"/>
                                                <span t-esc="base_liquidacion_1"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <td>Intereses de Cesantias          <t t-if="fecha_1 == fecha_2">
                                                        <span t-field="doc.contract_id.date_start"></span> a <span t-field="doc.contract_id.date_end"></span>
                                                    </t>
                                                    <t t-else="">
                                                       01-01-<span t-esc="(doc.contract_id.date_end).year"/> a <span t-field="doc.contract_id.date_end"/>
                                                    </t></td>
                                                <t t-set="intcesantias_nombre" t-value=""></t>
                                                    <t t-set="intcesantias_valor" t-value="0"></t>
                                                    <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'INTCESANTIAS')" t-as="line_ids">
                                                        <t t-set="intcesantias_nombre" t-value="line_ids.name"/>
                                                        <t t-set="intcesantias_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="intcesantias_valor > 0">
                                                        <td class="text-right"><span t-esc="intcesantias_valor"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>

                                                        </td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Días anuales trabajados')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-center" t-foreach="doc.line_ids.filtered(lambda x: x.code == 'DIASPAGINTCES')" t-as="dias_c">
                                                            <t t-set="dias_ces" t-value="dias_c.amount"/>
                                                            <span t-esc="'%.2f'%(dias_ces)"/>
                                                        </td>
                                                        <td class="text-right" t-foreach="doc.line_ids.filtered(lambda x: x.code == 'SALARIO_P_YEARS')" t-as="base_liq">
                                                <t t-set="base_liquidacion_1" t-value="int(base_liq.amount)"/>
                                                <span t-esc="base_liquidacion_1"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <t t-set="t_prestaciones" t-value="cesantias_valor + prima_valor + intcesantias_valor + vacations_valor"/>
                                            <tr>
                                                <td><strong><b>TOTAL PRESTACIONES SOCIALES</b></strong></td>
                                                <td style="border-top: 1px solid black" class="text-right"><span t-esc="t_prestaciones"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/></td>
                                            </tr>
                                            <tr><td><strong><b>SALARIOS PENDIENTES</b></strong></td></tr>
                                            <tr style="height:150%;">

                                                <t t-set="salario_nombre" t-value=""></t>
                                                <t t-set="salario_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'SALARIO')" t-as="line_ids">
                                                        <t t-set="salario_nombre" t-value="line_ids.name"/>
                                                        <t t-set="salario_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="salario_valor > 0">
                                                        <td>Sueldo Básico</td>
                                                        <td class="text-right"><span t-esc="salario_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>

                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>

                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <td></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <t t-set="substran_nombre" t-value=""></t>
                                                <t t-set="substran_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'SUBSTRAN')" t-as="line_ids">
                                                        <t t-set="substran_nombre" t-value="line_ids.name"/>
                                                        <t t-set="substran_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="substran_valor > 0">
                                                        <td>Auxilio de Transporte</td>
                                                        <td class="text-right"><span t-esc="substran_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>

                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <t t-set="bonificaciones_nombre" t-value=""></t>
                                                <t t-set="bonificaciones_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'BONIFICACION')" t-as="line_ids">
                                                        <t t-set="bonificaciones_nombre" t-value="line_ids.name"/>
                                                        <t t-set="bonificaciones_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="bonificaciones_valor > 0">
                                                        <td>Bonificaciones</td>
                                                        <td class="text-right"><span t-esc="bonificaciones_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <t t-set="recargon_nombre" t-value=""></t>
                                                <t t-set="recargon_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'RECARGONOCTURNO')" t-as="line_ids">
                                                        <t t-set="recargon_nombre" t-value="line_ids.name"/>
                                                        <t t-set="recargon_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="recargon_valor > 0">
                                                        <td>Recargo Nocturno</td>
                                                        <td class="text-right"><span t-esc="recargon_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <t t-set="recargonf_nombre" t-value=""></t>
                                                <t t-set="recargonf_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'RECARGONOCTURNOFESTIVO')" t-as="line_ids">
                                                        <t t-set="recargonf_nombre" t-value="line_ids.name"/>
                                                        <t t-set="recargonf_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="recargonf_valor > 0">
                                                        <td>Recargo Nocturno Festivo</td>
                                                        <td class="text-right"><span t-esc="recargonf_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <t t-set="recargodf_nombre" t-value=""></t>
                                                <t t-set="recargodf_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'RECARGODIURNOFESTIVO')" t-as="line_ids">
                                                        <t t-set="recargodf_nombre" t-value="line_ids.name"/>
                                                        <t t-set="recargodf_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="recargodf_valor > 0">
                                                        <td>Recargo Diurno Festivo</td>
                                                        <td class="text-right"><span t-esc="recargodf_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                        <tr>
                                                <t t-set="extrad_nombre" t-value=""></t>
                                                <t t-set="extrad_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'EXTRADIURNA')" t-as="line_ids">
                                                        <t t-set="extrad_nombre" t-value="line_ids.name"/>
                                                        <t t-set="extrad_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="extrad_valor > 0">
                                                        <td>Horas Extra Diurna</td>
                                                        <td class="text-right"><span t-esc="extrad_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                        <tr>
                                                <t t-set="extran_nombre" t-value=""></t>
                                                <t t-set="extran_valor" t-value="0"></t>
                                                <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'EXTRANOCTURNA')" t-as="line_ids">
                                                        <t t-set="extran_nombre" t-value="line_ids.name"/>
                                                        <t t-set="extran_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="extran_valor > 0">
                                                        <td>Horas Extra Nocturna</td>
                                                        <td class="text-right"><span t-esc="extran_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>

                                            <t t-set="t_salpen" t-value="extran_valor + extrad_valor + substran_valor + salario_valor + recargon_valor + recargodf_valor + recargonf_valor"/>
                                            <tr>
                                                <td><strong><b>TOTAL SALARIOS PENDIENTES</b></strong></td>
                                                <td style="border-top: 1px solid black" class="text-right"><span t-esc="t_salpen" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/></td>
                                            </tr>
                                            <tr>
                                                <td><strong><b>DEDUCCIONES</b></strong></td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <t t-set="saludempleado_nombre" t-value=""></t>
                                                    <t t-set="saludempleado_valor" t-value="0"></t>
                                                    <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'SALUDEMPLEADO')" t-as="line_ids">
                                                        <t t-set="saluempleado_nombre" t-value="line_ids.name"/>
                                                        <t t-set="saludempleado_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="saludempleado_valor != 0">
                                                        <td>Fondo de Salud</td>
                                                        <td class="text-right"><span t-esc="saludempleado_valor"  t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                         <td></td>
                                                         <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>

                                            <tr>
                                                <t t-set="pensionempleado_nombre" t-value=""></t>
                                                    <t t-set="pensionempleado_valor" t-value="0"></t>
                                                    <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'PENSIONEMPLEADO')" t-as="line_ids">
                                                        <t t-set="pensionempleado_nombre" t-value="line_ids.name"/>
                                                        <t t-set="pensionempleado_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="pensionempleado_valor != 0">
                                                        <td>Fondo de Pensiones y Cesantias</td>
                                                        <td class="text-right"><span t-esc="pensionempleado_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <t t-set="descuentos_nombre" t-value=""></t>
                                                    <t t-set="descuentos_valor" t-value="0"></t>
                                                    <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'DESCUENTOS')" t-as="line_ids">
                                                        <t t-set="descuentos_nombre" t-value="line_ids.name"/>
                                                        <t t-set="descuentos_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="descuentos_valor != 0">
                                                        <td>Descuentos</td>
                                                        <td class="text-right"><span t-esc="descuentos_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                    <t t-set="rtfm1_nombre" t-value=""></t>
                                                    <t t-set="rtfm1_valor" t-value="0"></t>
                                                    <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'RTFM1')" t-as="line_ids">
                                                        <t t-set="rtfm1_nombre" t-value="line_ids.name"/>
                                                        <t t-set="rtfm1_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="rtfm1_valor != 0">
                                                        <td>Retencion en la fuente</td>
                                                        <td class="text-right"><span t-esc="rtfm1_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>
                                            </tr>
                                            <tr>
                                                <t t-set="fsp_nombre" t-value=""></t>
                                                    <t t-set="fsp_valor" t-value="0"></t>
                                                    <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'FSP')" t-as="line_ids">
                                                        <t t-set="fsp_nombre" t-value="line_ids.name"/>
                                                        <t t-set="fsp_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="fsp_valor != 0">
                                                        <td>Fondo de solidaridad pensional</td>
                                                        <td class="text-right"><span t-esc="fsp_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                        <td></td>
                                                        <td class="text-center" t-foreach="doc.worked_days_line_ids.filtered(lambda x: x.work_entry_type_id.name == 'Total Días')" t-as="worked_days">
                                                            <span t-field="worked_days.number_of_days"/>
                                                        </td>
                                                        <td class="text-right"> </td>
                                                        <td class="text-right"> </td>
                                                    </t>
                                                    <t t-else="">
                                                    </t>

                                            </tr>
                                            <t t-set="t_deducciones" t-value="pensionempleado_valor + saludempleado_valor + descuentos_valor"/>
                                            <tr>
                                                <td><strong><b>TOTAL DEDUCCIONES</b></strong></td>
                                                <td style="border-top: 1px solid black" class="text-right"><span t-esc="t_deducciones" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/></td>
                                            </tr>
                                            </table>
                                        </td>
                                        </tr>
                                </table>
                                <br></br>
                                <table class="table table-bordered; text-center" add="small">
                                        <td>TOTAL A PAGAR</td>
                                        <t t-set="net_nombre" t-value=""></t>
                                                    <t t-set="net_valor" t-value="0"></t>
                                                    <t t-foreach="doc.line_ids.filtered(lambda x: x.code == 'NET')" t-as="line_ids">
                                                        <t t-set="net_nombre" t-value="line_ids.name"/>
                                                        <t t-set="net_valor" t-value="line_ids.total"/>
                                                    </t>
                                                    <t t-if="net_valor != 0">
                                                        <td class="text-right"><span t-esc="net_valor" t-options='{"widget": "monetary", "display_currency": doc.company_id.currency_id}'/>
                                                        </td>
                                                    </t>
                                </table>
                                <br></br>

                                <table>
                                    <tr ><b>CONSTANCIA:  Se hace constar expresamente lo siguiente:</b>
                                    <br></br>
                                    <br></br>
                                        <p style="font-size:11px" class="text-justify"> 1) El patrono ha incorporado en la anterior liquidación, en lo pertinente, la totalidad de los valores correspondientes a sal arios, horas extras,recargos
                                            por trabajos nocturnos, descansos remunerados, cesantía, intereses de cesantía,vacaciones, y en general, todo concepto relaci onado con salarios,
                                            descansos, prestaciones o indemnizaciones de toda especie y en general, por toda acreencia laboral, que tenga por causa el co ntrato de trabajo que
                                            ha quedado extinguido.</p>
                                            <p style="font-size:11px" class="text-justify">2) El trabajador acepta expresamente que el tiempo transcurrido entre la terminaci ón del contrato y la fecha de pago de esta liquidación, está
                                            justificado.</p>
                                            <p style="font-size:11px" class="text-justify">3) Que no obstante la anterior declaración, se hace constar por las partes, que con el pago de la suma de dinero a que hace r eferencia la anterior
                                            liquidación, queda transada cualquier diferencia relativa al contrato de trabajo que ha quedado terminado, pues ha sido de co mún ánimo transar
                                            definitiva-mente, como en efecto se transa, todo reclamo pasado, presente o futuro que tenga por causa el mencionado contrato.Por consig uiente ésta
                                            transaccion tiene por efecto la extinción de las obligaciones provenientes de la relación laboral que existió entre el Patron o y el Trabajador quienes</p></tr>
                                </table>
                                <br></br>
                                 <table style="width:100%" add="small">
                                    <tr>
                                        <td class="text-center" style="width:100%; border-top: 1px solid black; width:28%"><b><span t-field="doc.company_id.name"/><p>NIT: <span t-field="doc.company_id.vat"/></p></b></td>
                                        <td style="color:white">   ,</td>
                                        <td class="text-center" style="width:100%; border-top: 1px solid black; width:28%"><b><span t-field="doc.employee_id"/><p><span t-field="doc.employee_id.identification_id"/></p></b></td>
                                        <td style="color:white">   ,</td>
                                        <td class="text-center" style="width:100%; border-top: 1px solid black; width:28%"><b>TESTIGO<p>C.C. No.</p></b></td></tr>
                                </table>
                    </div>
                </div>
                </t>
                <t t-else="">No se ha generado liquidación, para el recurso seleccionado
                </t>
            </t>
        </t>
        </t>
        </template>

    </data>


</odoo>